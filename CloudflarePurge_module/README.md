# CloudflarePurge

---
Модуль позволяет очищать CDN кеш от Cloudflare при синхронизации папки `updates`.
Может быть полезно когда лаунчсервер находится за Cloudflare прокси. Или когда для доставки обновлений используется
S3Updates модуль и хранилище так же находится за Cloudflare

---
## Установка модуля

1. Скопировать модуль **CloudflarePurge_module.jar** в папку **/LaunchServer/modules/**
2. Создать API токен в профиле Cloudflare с функционалом **Cache Purge**
3. Взять **Zone ID** со странички домена

---
## Конфигурация
* /LaunchServer/config/CloudflarePurge/Config.json
```json
{
  "cloudflareToken": "AbCdEfGHiJkLmN0013sjdfasfhayhHSHDhasd-sP",
  "zoneIdentifier": "a8067242c7b728fce2a523e87kb47dbe"
}
```
Скопированный ранее токен и идентификатор домена нужно вставить сюда

# Важное замечание
На данный момент модуль поддерживает только очистку **всего** кеша на домене - включая кеши всех поддоменов.
Если на Cloudflare находятся другие сервисы (например сайт) нагрузка на оригинальный сервер будет при каждом 
использовании модуля.
Так же очистка по маске доступна только Cloudflare клиентам на тарифе Enterprise, поэтому запрос на этот
функционал отсутствует. Ввиду этого модуль очистку кеша по маске **не поддерживает**
